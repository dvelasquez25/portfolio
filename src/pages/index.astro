---
import Layout from "../layouts/Layout.astro";
import SectionHeader from "../components/SectionHeader.astro";
import SkillCard from "../components/SkillCard.astro";
import LearningCard from "../components/LearningCard.astro";
import ProjectCard from "../components/ProjectCard.astro";
import ContactCard from "../components/ContactCard.astro";
import TimezoneDisplay from "../components/TimezoneMap.jsx";
import TypingAnimation from "../components/TypingAnimation.jsx";
import TechCarousel from "../components/TechCarousel.jsx";
import ScrollToTop from "../components/ScrollToTop.jsx";
---

<Layout title="Diego Velasquez | Portfolio | Software Engineer">
  <!-- Navigation -->
  <nav
    class="fixed top-0 w-full /80 backdrop-blur-md z-50 border-b border-gray-700"
  >
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div
          class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent animate-gradient-x"
        >
          &lt;DV /&gt;
        </div>
        <div class="hidden md:flex space-x-8 items-center">
          <a
            href="#about"
            class="text-gray-300 hover:text-white transition-colors">About</a
          >
          <a
            href="#skills"
            class="text-gray-300 hover:text-white transition-colors">Skills</a
          >
          <a
            href="#learning"
            class="text-gray-300 hover:text-white transition-colors">Learning</a
          >
          <a
            href="#projects"
            class="text-gray-300 hover:text-white transition-colors">Projects</a
          >
          <a
            href="#contact"
            class="text-gray-300 hover:text-white transition-colors">Contact</a
          >
        </div>
        <!-- Mobile menu button -->
        <div class="md:hidden flex items-center space-x-4">
          <button class="text-gray-300 hover:text-white">
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section pt-24 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto text-center">
      <div>
        <div
          class="hero-status inline-flex items-center px-4 py-2 rounded-full bg-green-900/30 text-green-300 text-sm font-medium mb-6 animate-pulse"
        >
          <span class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"
          ></span>
          Available for new opportunities
        </div>
        <h1 class="hero-title text-5xl md:text-7xl font-bold text-white mb-6">
          <div class="min-h-[4rem] md:min-h-[5rem] flex items-center">
            <TypingAnimation client:load />
          </div>
          <span
            class="bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent"
            >Diego Velasquez</span
          >
        </h1>
        <p
          class="hero-subtitle text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto"
        >
          Senior Software Engineer with 6+ years of experience building
          high-rated applications, optimizing infrastructure, and enhancing
          cybersecurity
        </p>
        <div
          class="hero-buttons flex flex-col sm:flex-row gap-4 justify-center"
        >
          <a
            href="#projects"
            class="bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-400 transition-colors"
          >
            View My Work
          </a>
          <a
            href="#contact"
            class="border border-gray-600 text-gray-300 px-8 py-3 rounded-lg font-medium hover: transition-colors"
          >
            Get In Touch
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold text-white mb-4">About Me</h2>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
          Senior Software Engineer with expertise in full-stack development,
          automation, and cloud technologies. Proven track record in building
          high-rated applications, optimizing infrastructure, and enhancing
          cybersecurity.
        </p>
      </div>
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <h3 class="text-2xl font-semibold text-white mb-4">My Journey</h3>
          <p class="text-gray-300 mb-6">
            With over 6 years of experience, I've worked at companies like
            <span
              class="bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent font-semibold relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-gradient-to-r after:from-orange-400 after:to-orange-600"
              >Amazon</span
            >,
            <span
              class="bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent font-semibold relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-gradient-to-r after:from-red-500 after:to-red-700"
              >Kyndryl</span
            >,
            <span
              class="bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent font-semibold relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-gradient-to-r after:from-red-500 after:to-red-700"
              >First Factory</span
            >, and
            <span
              class="bg-gradient-to-r from-lime-400 to-lime-600 bg-clip-text text-transparent font-semibold relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-gradient-to-r after:from-lime-400 after:to-lime-600"
              >Tactacam</span
            >, building high-rated applications and optimizing infrastructure. I
            specialize in React, automation, and cloud technologies, with a
            strong focus on cybersecurity.
          </p>
          <p class="text-gray-300 mb-6">
            I graduated from the most prestigious computer engineering college
            in Costa Rica, the
            <span
              class="bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent font-semibold relative inline-block after:content-[''] after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-gradient-to-r after:from-blue-400 after:to-blue-600"
              >Costa Rica Institute of Technology (TEC)</span
            >. Currently pursuing my MSc in Cyber Security while working as a
            Senior Software Engineer. I'm passionate about creating scalable
            solutions, implementing automation, and ensuring system reliability
            across cross-functional teams.
          </p>
          <div class="flex space-x-4">
            <a
              href="https://files.diegovelasquez.dev/2025%20-%20DiegoVelasquezResume.pdf"
              target="_blank"
              rel="noopener noreferrer"
              class="text-blue-400 hover:text-blue-300 font-medium"
              download="DiegoVelasquez_Resume_2025.pdf">Download Resume</a
            >
            <a
              href="https://linkedin.com/in/diegovelasquez25"
              class="text-blue-400 hover:text-blue-300 font-medium"
              >View LinkedIn</a
            >
          </div>
        </div>
        <div class="bg-gray-700 rounded-2xl p-8">
          <div class="grid grid-cols-2 gap-6">
            <div class="text-center">
              <div class="text-3xl font-bold text-blue-400 mb-2">6+</div>
              <div class="text-gray-300">Years Experience</div>
            </div>
            <div class="text-center">
              <div class="text-3xl font-bold text-blue-400 mb-2">4.9â˜…</div>
              <div class="text-gray-300">App Rating (150K+ reviews)</div>
            </div>
            <div class="text-center">
              <div class="text-3xl font-bold text-blue-400 mb-2">40%</div>
              <div class="text-gray-300">Customer Reach Increase</div>
            </div>
            <div class="text-center">
              <div class="text-3xl font-bold text-blue-400 mb-2">MSc</div>
              <div class="text-gray-300">Cyber Security</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <section id="skills" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <SectionHeader
        title="Skills & Technologies"
        description="I work with modern technologies and tools to create exceptional digital experiences"
      />
      <TechCarousel client:load />
      <div class="grid md:grid-cols-3 gap-8">
        <SkillCard
          icon="ðŸ’»"
          title="Frontend & Mobile"
          skills={[
            {
              name: "Web Applications",
              description: "Full-stack web development expertise",
            },
            {
              name: "Mobile Development",
              description: "Cross-platform mobile app development",
            },
            {
              name: "Responsive Design",
              description: "Mobile-first approach to UI/UX",
            },
          ]}
        />
        <SkillCard
          icon="âš¡"
          title="Backend & Cloud"
          skills={[
            {
              name: "Backend Systems",
              description: "Robust API development and database design",
            },
            {
              name: "Cloud Infrastructure",
              description: "AWS and cloud-native solutions",
            },
            {
              name: "Database Management",
              description: "SQL and NoSQL database expertise",
            },
          ]}
        />
        <SkillCard
          icon="ðŸ”§"
          title="Automation & DevOps"
          skills={[
            {
              name: "Process Automation",
              description: "Scripting and workflow optimization",
            },
            {
              name: "DevOps Practices",
              description: "CI/CD and infrastructure as code",
            },
            {
              name: "Cybersecurity",
              description: "Security-first development approach",
            },
          ]}
        />
      </div>
    </div>
  </section>

  <!-- Currently Learning Section -->
  <section id="learning" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <SectionHeader
        title="Currently Learning"
        description="Expanding my skillset with modern technologies and infrastructure tools"
      />
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <LearningCard
          logo="https://upload.wikimedia.org/wikipedia/commons/d/d5/Rust_programming_language_black_logo.svg"
          title="Rust Programming"
          description="Learning Rust for systems programming, memory safety, and high-performance applications. Exploring its unique ownership model and zero-cost abstractions."
          tag="Systems Programming"
          tagColor="bg-orange-900/30 text-orange-300"
        />
        <LearningCard
          logo="/images/docker.svg"
          title="Docker"
          description="Mastering containerization with Docker for consistent development environments, microservices architecture, and streamlined deployment workflows."
          tag="Containerization"
          tagColor="bg-blue-900/30 text-blue-300"
          logoSize="h-20 w-20"
          logoStyle="filter: brightness(0) saturate(100%) invert(27%) sepia(51%) saturate(2878%) hue-rotate(199deg) brightness(104%) contrast(97%);"
        />
        <LearningCard
          logo="https://docker-mailserver.github.io/docker-mailserver/v11.3/assets/logo/dmo-logo-white.min.svg"
          title="Email Server Configuration"
          description="Setting up self-hosted email servers using Docker Mailserver for complete control over email infrastructure and domain management."
          tag="Infrastructure"
          tagColor="bg-green-900/30 text-green-300"
          logoSize="h-12 w-12"
          logoContainer="w-20 h-20 rounded-full flex items-center justify-center mx-auto"
          logoStyle="background-color: #2496ED;"
        />
        <LearningCard
          logo="/images/astro-logo.svg"
          title="Astro"
          description="Building blazing fast, modern websites with Astro. This portfolio is proudly built using Astro for optimal performance and flexibility."
          tag="Web Framework"
          tagColor="bg-purple-900/30 text-purple-300"
          logoSize="h-24 w-24"
        />
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <SectionHeader
        title="Featured Projects"
        description="Here are some of my recent projects that showcase my skills and creativity"
      />
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <ProjectCard
          logo="/images/reveal-logo.svg"
          logoAlt="Reveal Logo"
          title="Reveal Mobile App and Web Portal"
          description="Maintained a high-rated mobile app with 150K+ reviews and 4.9-star rating for hunting cameras."
          technologies={["React Native", "TypeScript", "Next.js"]}
          logoSize="h-24 w-24"
          backgroundStyle="bg-black"
          links={[
            { text: "View Project", url: "https://www.tactacam.com/" },
            {
              text: "App Store",
              url: "https://apps.apple.com/us/app/tactacam-reveal/id1515339989",
            },
            {
              text: "Google Play",
              url: "https://play.google.com/store/apps/details?id=com.tactacam.reveal&hl=en&pli=1",
            },
          ]}
        />
        <ProjectCard
          logo="/images/aws-logo.svg"
          logoAlt="AWS Logo"
          title="AWS Automation Platform"
          description="Automated data gathering and processing using AWS Lambda, S3, and Athena for Amazon Payroll."
          technologies={["Python", "AWS Lambda", "S3"]}
          logoSize="h-20 w-20"
          backgroundStyle="bg-white"
        />
        <ProjectCard
          logo="/images/roc-capital-logo.svg"
          logoAlt="Roc Capital Logo"
          title="Customer Portal Development"
          description="Developed a comprehensive customer portal at Roc Capital that increased customer reach by 40% and improved user experience."
          technologies={["React", "Spring", "Java"]}
          logoSize="h-28 w-28"
          backgroundStyle="bg-blue-900"
          links={[{ text: "View Project", url: "https://roccapital.com/" }]}
        />
        <ProjectCard
          logo="/images/oniwi-nails.png"
          logoAlt="Oniwi Nails Logo"
          title="Oniwi Nails Website"
          description="Designed and developed a modern, responsive website for Oniwi Nails nail salon with booking functionality and service showcase."
          technologies={["React", "Next.js", "Tailwind CSS"]}
          logoSize="h-40 w-40"
          backgroundStyle="bg-gradient-to-br from-pink-50 to-white"
          links={[{ text: "View Project", url: "https://oniwinails.com/" }]}
        />
        <ProjectCard
          logo="/favicon.svg"
          logoAlt="Portfolio Logo"
          title="This Portfolio"
          description="My personal portfolio site built with Astro, React, and Tailwind CSS. Designed for performance, accessibility, and a modern developer experience."
          technologies={["Astro", "React", "Tailwind CSS"]}
          logoSize="h-20 w-20"
          backgroundStyle="bg-white"
          links={[{ text: "View Portfolio", url: "/" }]}
        />
      </div>
    </div>
  </section>

  <!-- Timezone Section -->
  <section id="timezone" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <SectionHeader
        title="Timezone Advantage"
        description="Based in Costa Rica (Central Time), I share a close timezone with the US. This enables real-time collaboration, quick response times, and overlapping work hoursâ€”making remote teamwork seamless and efficient."
      />
      <div class="flex flex-col items-center justify-center mt-8">
        <TimezoneDisplay client:load />
        <p class="mt-6 text-center text-gray-300 text-lg">
          <span class="font-semibold text-blue-300">Costa Rica</span> operates on
          Central Time (CST), perfectly aligned for US business hours.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto text-center">
      <SectionHeader
        title="Let's Work Together"
        description="I'm always interested in new opportunities and exciting projects. Let's discuss how we can bring your ideas to life."
      />
      <div class="grid md:grid-cols-2 gap-8">
        <ContactCard
          icon="ðŸ“§"
          title="Email"
          description="contactme@diegovelasquez.dev"
          linkText="Send Email"
          linkUrl="mailto:contactme@diegovelasquez.dev"
        />
        <ContactCard
          icon="ðŸ’¼"
          title="LinkedIn"
          description="Connect with me professionally"
          linkText="View Profile"
          linkUrl="https://linkedin.com/in/diegovelasquez25"
        />
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black text-white py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto text-center">
      <div class="text-2xl font-bold mb-4">Diego Velasquez</div>
      <p class="text-gray-400 mb-8">
        Senior Software Engineer specializing in software engineering,
        architecture, and cybersecurity
      </p>
      <div class="flex justify-center space-x-6 mb-8">
        <a
          href="https://github.com/dvelasquez25"
          class="text-gray-400 hover:text-white transition-colors">GitHub</a
        >
        <a
          href="https://linkedin.com/in/diegovelasquez25"
          class="text-gray-400 hover:text-white transition-colors">LinkedIn</a
        >
      </div>
      <div class="border-t border-gray-700 pt-8">
        <p class="text-gray-400">
          &copy; 2025 Diego Velasquez. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <ScrollToTop client:load />
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import { ScrollToPlugin } from "gsap/ScrollToPlugin";

  // Register GSAP plugins
  gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

  // Initialize animations when DOM is loaded
  document.addEventListener("DOMContentLoaded", () => {
    initializeAnimations();
  });

  function initializeAnimations() {
    // Check if GSAP is available
    if (typeof gsap === "undefined") {
      console.warn("GSAP not available, animations disabled");
      // Ensure all elements are visible if GSAP is not available
      document
        .querySelectorAll(
          "#projects .grid > div, #about .grid > div, #skills .grid > div, #contact .grid > div, #projects .grid > div"
        )
        .forEach((el) => {
          (el as HTMLElement).style.opacity = "1";
          (el as HTMLElement).style.transform = "translateY(0)";
        });
      return;
    }

    // Hero section animations
    animateHeroSection();

    // Section animations
    animateSections();

    // Smooth scroll for navigation links
    setupSmoothScroll();
  }

  function animateHeroSection() {
    const tl = gsap.timeline();

    // Animate the status badge
    tl.from(".hero-status", {
      opacity: 0,
      y: 30,
      duration: 0.8,
      ease: "power2.out",
    })

      // Animate the main heading
      .from(".hero-title", {
        opacity: 0,
        y: 50,
        duration: 1,
        ease: "power2.out",
      })

      // Animate the subtitle
      .from(
        ".hero-subtitle",
        {
          opacity: 0,
          y: 30,
          duration: 0.8,
          ease: "power2.out",
        },
        "-=0.5"
      )

      // Animate the CTA buttons
      .from(
        ".hero-buttons a",
        {
          opacity: 0,
          y: 20,
          duration: 0.6,
          stagger: 0.2,
          ease: "power2.out",
        },
        "-=0.3"
      );
  }

  function animateSections() {
    // Configuration array for section animations
    const sectionAnimations = [
      {
        selector: "#about h2",
        trigger: "#about",
        y: 50,
        delay: 0,
      },
      {
        selector: "#about .text-xl",
        trigger: "#about",
        y: 30,
        delay: 0.2,
      },
      {
        selector: "#about .grid > div",
        trigger: "#about .grid",
        y: 50,
        stagger: 0.3,
      },
      {
        selector: "#skills h2",
        trigger: "#skills",
        y: 50,
      },
      {
        selector: "#skills .grid > div",
        trigger: "#skills .grid",
        y: 60,
        stagger: 0.2,
      },
      {
        selector: "#learning h2",
        trigger: "#learning",
        y: 50,
      },
      {
        selector: "#learning .text-xl",
        trigger: "#learning",
        y: 30,
        delay: 0.2,
      },
      {
        selector: "#learning .grid > div",
        trigger: "#learning .grid",
        y: 60,
        stagger: 0.2,
      },
      {
        selector: "#projects .grid > div",
        trigger: "#projects",
        y: 50,
        stagger: 0.3,
      },
      {
        selector: "#projects h2",
        trigger: "#projects",
        y: 50,
      },
      {
        selector: "#projects .text-xl",
        trigger: "#projects",
        y: 30,
        delay: 0.2,
      },
      {
        selector: "#contact h2",
        trigger: "#contact",
        y: 50,
      },
      {
        selector: "#contact .grid > div",
        trigger: "#contact .grid",
        y: 40,
        stagger: 0.2,
      },
    ];

    // Iterate over the configuration and create animations
    sectionAnimations.forEach((animation) => {
      gsap.from(animation.selector, {
        scrollTrigger: {
          trigger: animation.trigger,
          start: "top 80%",
          end: "bottom 20%",
          toggleActions: "play none none reverse",
        },
        opacity: 0,
        y: animation.y,
        duration: 0.8,
        delay: animation.delay || 0,
        stagger: animation.stagger || 0,
        ease: "power2.out",
      });
    });
  }

  function setupSmoothScroll() {
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener(
        "click",
        function (this: HTMLAnchorElement, e: Event) {
          e.preventDefault();
          const target = document.querySelector(
            this.getAttribute("href") || ""
          );
          if (target) {
            gsap.to(window, {
              duration: 0.1,
              scrollTo: { y: target, offsetY: 80 },
              ease: "power2.inOut",
            });
          }
        }
      );
    });
  }
</script>
